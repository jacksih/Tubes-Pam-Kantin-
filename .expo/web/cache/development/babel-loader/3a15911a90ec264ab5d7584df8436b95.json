{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = SceneView;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _EnsureSingleNavigator = _interopRequireDefault(require(\"./EnsureSingleNavigator\"));\nvar _NavigationStateContext = _interopRequireDefault(require(\"./NavigationStateContext\"));\nvar _StaticContainer = _interopRequireDefault(require(\"./StaticContainer\"));\nvar _useOptionsGetters2 = _interopRequireDefault(require(\"./useOptionsGetters\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction SceneView(_ref) {\n  var screen = _ref.screen,\n    route = _ref.route,\n    navigation = _ref.navigation,\n    routeState = _ref.routeState,\n    getState = _ref.getState,\n    setState = _ref.setState,\n    options = _ref.options,\n    clearOptions = _ref.clearOptions;\n  var navigatorKeyRef = React.useRef();\n  var getKey = React.useCallback(function () {\n    return navigatorKeyRef.current;\n  }, []);\n  var _useOptionsGetters = (0, _useOptionsGetters2.default)({\n      key: route.key,\n      options: options,\n      navigation: navigation\n    }),\n    addOptionsGetter = _useOptionsGetters.addOptionsGetter;\n  var setKey = React.useCallback(function (key) {\n    navigatorKeyRef.current = key;\n  }, []);\n  var getCurrentState = React.useCallback(function () {\n    var state = getState();\n    var currentRoute = state.routes.find(function (r) {\n      return r.key === route.key;\n    });\n    return currentRoute ? currentRoute.state : undefined;\n  }, [getState, route.key]);\n  var setCurrentState = React.useCallback(function (child) {\n    var state = getState();\n    setState(Object.assign({}, state, {\n      routes: state.routes.map(function (r) {\n        return r.key === route.key ? Object.assign({}, r, {\n          state: child\n        }) : r;\n      })\n    }));\n  }, [getState, route.key, setState]);\n  var isInitialRef = React.useRef(true);\n  React.useEffect(function () {\n    isInitialRef.current = false;\n  });\n  React.useEffect(function () {\n    return clearOptions;\n  }, []);\n  var getIsInitial = React.useCallback(function () {\n    return isInitialRef.current;\n  }, []);\n  var context = React.useMemo(function () {\n    return {\n      state: routeState,\n      getState: getCurrentState,\n      setState: setCurrentState,\n      getKey: getKey,\n      setKey: setKey,\n      getIsInitial: getIsInitial,\n      addOptionsGetter: addOptionsGetter\n    };\n  }, [routeState, getCurrentState, setCurrentState, getKey, setKey, getIsInitial, addOptionsGetter]);\n  var ScreenComponent = screen.getComponent ? screen.getComponent() : screen.component;\n  return React.createElement(_NavigationStateContext.default.Provider, {\n    value: context\n  }, React.createElement(_EnsureSingleNavigator.default, null, React.createElement(_StaticContainer.default, {\n    name: screen.name,\n    render: ScreenComponent || screen.children,\n    navigation: navigation,\n    route: route\n  }, ScreenComponent !== undefined ? React.createElement(ScreenComponent, {\n    navigation: navigation,\n    route: route\n  }) : screen.children !== undefined ? screen.children({\n    navigation: navigation,\n    route: route\n  }) : null)));\n}","map":{"version":3,"mappings":"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","names":["SceneView","screen","_ref","route","navigation","routeState","getState","setState","options","clearOptions","navigatorKeyRef","React","useRef","getKey","useCallback","current","useOptionsGetters","key","addOptionsGetter","setKey","getCurrentState","state","currentRoute","routes","find","r","undefined","setCurrentState","child","map","isInitialRef","useEffect","getIsInitial","context","useMemo","ScreenComponent","getComponent","component","NavigationStateContext","Provider","value","EnsureSingleNavigator","StaticContainer","name","render","children"],"sourceRoot":"../../src","sources":["SceneView.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}