{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateFunctionMap = generateFunctionMap;\nfunction _importMetroFromProject() {\n  var data = require(\"../importMetroFromProject\");\n  _importMetroFromProject = function _importMetroFromProject() {\n    return data;\n  };\n  return data;\n}\nfunction generateFunctionMap(projectRoot, ast, context) {\n  if (process.env.EXPO_USE_FB_SOURCES) {\n    return (0, _importMetroFromProject().importMetroSourceMapFromProject)(projectRoot).generateFunctionMap(ast, context);\n  }\n  return null;\n}","map":{"version":3,"sources":["../../src/transformer/generateFunctionMap.ts"],"names":["generateFunctionMap","projectRoot","ast","context","process","env","EXPO_USE_FB_SOURCES"],"mappings":";;;;;;AAEA,SAAA,uBAAA,GAAA;EAAA,IAAA,IAAA,GAAA,OAAA,CAAA,2BAAA,CAAA;EAAA,uBAAA,GAAA,mCAAA;IAAA,OAAA,IAAA;EAAA,CAAA;EAAA,OAAA,IAAA;AAAA;AAEO,SAASA,mBAAT,CACLC,WADK,EAELC,GAFK,EAGLC,OAHK,EAI8C;EAmBnD,IAAIC,OAAO,CAACC,GAARD,CAAYE,mBAAhB,EAAqC;IACnC,OAAO,CAAA,CAAA,EAAA,uBAAA,EAAA,CAAA,+BAAA,EAAgCL,WAAhC,CAAA,CAA6CD,mBAA7C,CAAiEE,GAAjE,EAAsEC,OAAtE,CAAP;EACD;EACD,OAAO,IAAP;AACD","sourcesContent":["import type { generateFunctionMap as generateFunctionMapType } from 'metro-source-map';\n\nimport { importMetroSourceMapFromProject } from '../importMetroFromProject';\n\nexport function generateFunctionMap(\n  projectRoot: string,\n  ast: Parameters<typeof generateFunctionMapType>[0],\n  context: Parameters<typeof generateFunctionMapType>[1]\n): ReturnType<typeof generateFunctionMapType> | null {\n  //  `x_facebook_sources` is a source map feature that we disable by default since it isn't documented\n  // and doesn't appear to add much value to the DX, it also increases bundle time, and source map size.\n  // The feature supposedly provides improved function names for anonymous functions, but we will opt towards\n  // linting to prevent users from adding anonymous functions for important features like React components.\n  //\n  // Here is an example stack trace for a component that throws an error\n  // in the root component (which is an anonymous function):\n  //\n  // Before:\n  // - <anonymous> App.js:5:9\n  // - renderApplication renderApplication.js:54:5\n  // - runnables.appKey.run AppRegistry.js:117:26\n  //\n  // After:\n  // - _default App.js:5:9\n  // - renderApplication renderApplication.js:54:5\n  // - run AppRegistry.js:117:26\n  //\n  if (process.env.EXPO_USE_FB_SOURCES) {\n    return importMetroSourceMapFromProject(projectRoot).generateFunctionMap(ast, context);\n  }\n  return null;\n}\n"]},"metadata":{},"sourceType":"script"}