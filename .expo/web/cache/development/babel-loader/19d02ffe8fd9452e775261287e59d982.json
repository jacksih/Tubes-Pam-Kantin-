{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getBuildNumber = getBuildNumber;\nexports.getVersion = getVersion;\nexports.setBuildNumber = setBuildNumber;\nexports.setVersion = setVersion;\nexports.withVersion = exports.withBuildNumber = void 0;\nfunction _iosPlugins() {\n  var data = require(\"../plugins/ios-plugins\");\n  _iosPlugins = function _iosPlugins() {\n    return data;\n  };\n  return data;\n}\nvar withVersion = (0, _iosPlugins().createInfoPlistPluginWithPropertyGuard)(setVersion, {\n  infoPlistProperty: 'CFBundleShortVersionString',\n  expoConfigProperty: 'version'\n}, 'withVersion');\nexports.withVersion = withVersion;\nvar withBuildNumber = (0, _iosPlugins().createInfoPlistPluginWithPropertyGuard)(setBuildNumber, {\n  infoPlistProperty: 'CFBundleVersion',\n  expoConfigProperty: 'ios.buildNumber'\n}, 'withBuildNumber');\nexports.withBuildNumber = withBuildNumber;\nfunction getVersion(config) {\n  return config.version || '1.0.0';\n}\nfunction setVersion(config, infoPlist) {\n  return Object.assign({}, infoPlist, {\n    CFBundleShortVersionString: getVersion(config)\n  });\n}\nfunction getBuildNumber(config) {\n  var _config$ios;\n  return (_config$ios = config.ios) !== null && _config$ios !== void 0 && _config$ios.buildNumber ? config.ios.buildNumber : '1';\n}\nfunction setBuildNumber(config, infoPlist) {\n  return Object.assign({}, infoPlist, {\n    CFBundleVersion: getBuildNumber(config)\n  });\n}","map":{"version":3,"sources":["../../src/ios/Version.ts"],"names":["withVersion","setVersion","infoPlistProperty","expoConfigProperty","withBuildNumber","setBuildNumber","getVersion","config","version","infoPlist","CFBundleShortVersionString","getBuildNumber","ios","buildNumber","CFBundleVersion"],"mappings":";;;;;;;;;;AAEA,SAAA,WAAA,GAAA;EAAA,IAAA,IAAA,GAAA,OAAA,CAAA,wBAAA,CAAA;EAAA,WAAA,GAAA,uBAAA;IAAA,OAAA,IAAA;EAAA,CAAA;EAAA,OAAA,IAAA;AAAA;AAGO,IAAMA,WAAW,GAAG,CAAA,CAAA,EAAA,WAAA,EAAA,CAAA,sCAAA,EACzBC,UADyB,EAEzB;EACEC,iBAAiB,EAAE,4BADrB;EAEEC,kBAAkB,EAAE;AAFtB,CAFyB,EAMzB,aANyB,CAApB;;AASA,IAAMC,eAAe,GAAG,CAAA,CAAA,EAAA,WAAA,EAAA,CAAA,sCAAA,EAC7BC,cAD6B,EAE7B;EACEH,iBAAiB,EAAE,iBADrB;EAEEC,kBAAkB,EAAE;AAFtB,CAF6B,EAM7B,iBAN6B,CAAxB;;AASA,SAASG,UAAT,CAAoBC,MAApB,EAAyD;EAC9D,OAAOA,MAAM,CAACC,OAAPD,IAAkB,OAAzB;AACD;AAEM,SAASN,UAAT,CAAoBM,MAApB,EAAyDE,SAAzD,EAA0F;EAC/F,yBACKA,SADE;IAELC,0BAA0B,EAAEJ,UAAU,CAACC,MAAD;EAAA;AAEzC;AAEM,SAASI,cAAT,CAAwBJ,MAAxB,EAAyD;EAAA,IAAA,WAAA;EAC9D,OAAO,CAAA,WAAA,GAAA,MAAM,CAACK,GAAP,MAAA,IAAA,IAAA,WAAA,KAAA,KAAA,CAAA,IAAA,WAAA,CAAYC,WAAZ,GAA0BN,MAAM,CAACK,GAAPL,CAAWM,WAArC,GAAmD,GAA1D;AACD;AAEM,SAASR,cAAT,CAAwBE,MAAxB,EAAyDE,SAAzD,EAA0F;EAC/F,yBACKA,SADE;IAELK,eAAe,EAAEH,cAAc,CAACJ,MAAD;EAAA;AAElC","sourcesContent":["import { ExpoConfig } from '@expo/config-types';\n\nimport { createInfoPlistPluginWithPropertyGuard } from '../plugins/ios-plugins';\nimport { InfoPlist } from './IosConfig.types';\n\nexport const withVersion = createInfoPlistPluginWithPropertyGuard(\n  setVersion,\n  {\n    infoPlistProperty: 'CFBundleShortVersionString',\n    expoConfigProperty: 'version',\n  },\n  'withVersion'\n);\n\nexport const withBuildNumber = createInfoPlistPluginWithPropertyGuard(\n  setBuildNumber,\n  {\n    infoPlistProperty: 'CFBundleVersion',\n    expoConfigProperty: 'ios.buildNumber',\n  },\n  'withBuildNumber'\n);\n\nexport function getVersion(config: Pick<ExpoConfig, 'version'>) {\n  return config.version || '1.0.0';\n}\n\nexport function setVersion(config: Pick<ExpoConfig, 'version'>, infoPlist: InfoPlist): InfoPlist {\n  return {\n    ...infoPlist,\n    CFBundleShortVersionString: getVersion(config),\n  };\n}\n\nexport function getBuildNumber(config: Pick<ExpoConfig, 'ios'>) {\n  return config.ios?.buildNumber ? config.ios.buildNumber : '1';\n}\n\nexport function setBuildNumber(config: Pick<ExpoConfig, 'ios'>, infoPlist: InfoPlist): InfoPlist {\n  return {\n    ...infoPlist,\n    CFBundleVersion: getBuildNumber(config),\n  };\n}\n"]},"metadata":{},"sourceType":"script"}